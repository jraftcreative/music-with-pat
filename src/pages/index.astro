---
import BaseLayout from '../layouts/BaseLayout.astro'
---

<BaseLayout>
  <!-- Header -->
  <header class="py-6 px-6 md:px-12">
    <div class="max-w-5xl mx-auto flex items-center justify-between">
      <a href="/" class="flex items-center">
        <img 
          src="/music-with-pat/Music%20With%20Pat%20Logo%20(1).png" 
          alt="Music with Pat"
          class="h-12 md:h-14 w-auto"
        />
      </a>
      <nav class="hidden md:flex items-center gap-8">
        <a href="#about" class="text-base-600 hover:text-primary-600 transition-colors">About</a>
        <a href="#philosophy" class="text-base-600 hover:text-primary-600 transition-colors">Philosophy</a>
        <a href="#faq" class="text-base-600 hover:text-primary-600 transition-colors">FAQ</a>
        <a href="#contact" class="px-5 py-2.5 bg-primary-600 text-white rounded-full hover:bg-primary-700 transition-colors">
          Contact
        </a>
      </nav>
      <!-- Mobile menu button -->
      <button id="mobile-menu-btn" class="md:hidden p-2 text-base-600">
        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <!-- Mobile menu -->
    <nav id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-b border-base-200">
      <div class="flex flex-col gap-4 max-w-5xl mx-auto">
        <a href="#about" class="text-base-600 hover:text-primary-600">About</a>
        <a href="#philosophy" class="text-base-600 hover:text-primary-600">Philosophy</a>
        <a href="#faq" class="text-base-600 hover:text-primary-600">FAQ</a>
        <a href="#contact" class="px-5 py-2.5 bg-primary-600 text-white rounded-full hover:bg-primary-700 text-center">
          Contact
        </a>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="py-8 md:py-12 lg:py-16 px-6 md:px-12 min-h-[calc(100vh-100px)] flex items-center">
    <div class="max-w-6xl mx-auto w-full">
      <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
        <!-- Left: Text Content -->
        <div class="text-left">
          <p class="text-primary-600 font-medium mb-3">üåø Nurturing Young Talent</p>
          <h1 class="text-3xl md:text-4xl lg:text-5xl font-serif font-semibold text-base-900 leading-tight mb-4">
            Where Music<br />
            <span class="text-primary-600">Grows</span><br />
            Naturally
          </h1>
          <p class="text-base md:text-lg text-base-600 mb-6">
            Pat's warm, nurturing approach helps children discover the joy of piano 
            at their own pace‚Äîlike a seed growing into a beautiful melody.
          </p>
          
          <!-- Stats -->
          <div class="flex flex-wrap gap-4 mb-6">
            <div class="flex items-center gap-2 text-base-700">
              <span class="text-xl">üéπ</span>
              <span class="font-medium text-sm">Ages 4-12</span>
            </div>
            <div class="flex items-center gap-2 text-base-700">
              <span class="text-xl">üåø</span>
              <span class="font-medium text-sm">10+ Years</span>
            </div>
            <div class="flex items-center gap-2 text-base-700">
              <span class="text-xl">üå±</span>
              <span class="font-medium text-sm">100+ Students</span>
            </div>
          </div>
          
          <!-- Testimonial -->
          <div class="bg-white/60 backdrop-blur-sm rounded-xl p-4 border border-primary-100">
            <p class="text-base-600 italic text-sm mb-2">
              "Pat has such a gentle way with children. My daughter looks forward to her lessons every week!"
            </p>
            <p class="text-base-500 text-xs">‚Äî A Happy Parent</p>
          </div>
        </div>
        
        <!-- Right: Image Slideshow -->
        <div class="relative">
          <div id="slideshow" class="relative aspect-[4/3] rounded-2xl overflow-hidden bg-primary-50">
            <!-- Slide 1 -->
            <div class="slide absolute inset-0 opacity-100 transition-opacity duration-500 flex items-center justify-center">
              <img 
                src="/music-with-pat/Pat%20Pro%20Shot%20Grand.jpg" 
                alt="Pat at the grand piano"
                class="w-full h-full object-contain"
              />
            </div>
            <!-- Slide 2 -->
            <div class="slide absolute inset-0 opacity-0 transition-opacity duration-500 flex items-center justify-center">
              <img 
                src="/music-with-pat/Patricia%20Pro%20shot%201.jpeg" 
                alt="Piano lessons with Pat"
                class="w-full h-full object-contain"
              />
            </div>
          </div>
          
          <!-- Slideshow dots -->
          <div id="slideshow-dots" class="flex justify-center gap-2 mt-4">
            <button class="dot w-2 h-2 rounded-full bg-primary-600" data-slide="0"></button>
            <button class="dot w-2 h-2 rounded-full bg-primary-200" data-slide="1"></button>
          </div>
          
          <!-- Decorative elements -->
          <div class="absolute -bottom-4 -right-4 w-24 h-24 bg-primary-300 rounded-full opacity-40 -z-10"></div>
          <div class="absolute -top-4 -left-4 w-16 h-16 bg-primary-200 rounded-full opacity-40 -z-10"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="py-16 md:py-24 px-6 md:px-12 bg-white">
    <div class="max-w-5xl mx-auto">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <p class="text-primary-600 font-medium mb-2">üåø About</p>
          <h2 class="text-3xl md:text-4xl font-serif font-semibold text-base-900 mb-6">
            Meet Pat
          </h2>
          <p class="text-base-600 text-lg leading-relaxed mb-4">
            Like a patient gardener, Pat cultivates each child's musical potential with care and attention.
            With over 10 years of experience, she understands that every young musician grows at their own pace.
          </p>
          <p class="text-base-600 text-lg leading-relaxed mb-8">
            Her warm, encouraging approach creates a safe environment where children feel confident to explore,
            make mistakes, and blossom into accomplished pianists.
          </p>
          
          <!-- Credentials -->
          <div class="flex flex-wrap gap-4">
            <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium">
              üåø ABRSM Certified
            </span>
            <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium">
              üå± 10+ Years Teaching
            </span>
            <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium">
              üè° Home-Based Lessons
            </span>
          </div>
        </div>
        
        <div class="relative">
          <img 
            src="/music-with-pat/Patricia%20Pro%20shot%201.jpeg"
            alt="Pat - Piano Teacher"
            class="aspect-[4/5] object-cover object-top rounded-2xl w-full"
          />
          <div class="absolute -bottom-4 -right-4 w-24 h-24 bg-primary-300 rounded-full opacity-50"></div>
          <div class="absolute -top-4 -left-4 w-16 h-16 bg-primary-200 rounded-full opacity-50"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Philosophy Section -->
  <section id="philosophy" class="py-16 md:py-24 px-6 md:px-12">
    <div class="max-w-5xl mx-auto">
      <div class="text-center mb-12">
        <p class="text-primary-600 font-medium mb-2">üå± Teaching Philosophy</p>
        <h2 class="text-3xl md:text-4xl font-serif font-semibold text-base-900">
          Growing Musicians Naturally
        </h2>
      </div>
      
      <div class="grid md:grid-cols-2 gap-6">
        <!-- Card 1 -->
        <div class="bg-white rounded-2xl p-8 border border-base-200 hover:border-primary-200 transition-colors">
          <span class="text-4xl mb-4 block">üå±</span>
          <h3 class="text-xl font-semibold text-base-900 mb-3">Seedling Stage</h3>
          <p class="text-base-600">
            First steps: rhythm, finger placement, and the joy of making sounds. 
            Building curiosity and confidence.
          </p>
        </div>
        
        <!-- Card 2 -->
        <div class="bg-white rounded-2xl p-8 border border-base-200 hover:border-primary-200 transition-colors">
          <span class="text-4xl mb-4 block">üåø</span>
          <h3 class="text-xl font-semibold text-base-900 mb-3">Growing Stage</h3>
          <p class="text-base-600">
            Developing technique, reading music, and playing simple pieces. 
            Roots growing deeper.
          </p>
        </div>
        
        <!-- Card 3 -->
        <div class="bg-white rounded-2xl p-8 border border-base-200 hover:border-primary-200 transition-colors">
          <span class="text-4xl mb-4 block">üå≥</span>
          <h3 class="text-xl font-semibold text-base-900 mb-3">Flourishing Stage</h3>
          <p class="text-base-600">
            Mastering repertoire, expression, and preparing for examinations. 
            Ready to stand tall.
          </p>
        </div>
        
        <!-- Card 4 -->
        <div class="bg-white rounded-2xl p-8 border border-base-200 hover:border-primary-200 transition-colors">
          <span class="text-4xl mb-4 block">üèÜ</span>
          <h3 class="text-xl font-semibold text-base-900 mb-3">Beautiful Results</h3>
          <p class="text-base-600">
            Thoughtful ABRSM preparation that feels supportive, not stressful. 
            We celebrate every achievement.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section id="faq" class="py-16 md:py-24 px-6 md:px-12 bg-white">
    <div class="max-w-3xl mx-auto">
      <div class="text-center mb-12">
        <p class="text-primary-600 font-medium mb-2">FAQ</p>
        <h2 class="text-3xl md:text-4xl font-serif font-semibold text-base-900 mb-4">
          Common Questions
        </h2>
        <p class="text-base-600">Everything you need to know about lessons.</p>
      </div>
      
      <div class="space-y-4">
        <!-- FAQ Item 1 -->
        <details class="group bg-primary-50 rounded-xl">
          <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
            <span class="font-medium text-base-900">What ages do you teach?</span>
            <span class="text-primary-600 group-open:rotate-45 transition-transform text-2xl">+</span>
          </summary>
          <div class="px-6 pb-6 text-base-600">
            I specialize in teaching children ages 4-12. This is a wonderful window when musical 
            foundations are most naturally absorbed through play and exploration.
          </div>
        </details>
        
        <!-- FAQ Item 2 -->
        <details class="group bg-primary-50 rounded-xl">
          <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
            <span class="font-medium text-base-900">How long are the lessons?</span>
            <span class="text-primary-600 group-open:rotate-45 transition-transform text-2xl">+</span>
          </summary>
          <div class="px-6 pb-6 text-base-600">
            Lessons are 30 minutes for beginners (ages 4-6) and 45 minutes for intermediate 
            students (ages 7+). This duration keeps young learners engaged without fatigue.
          </div>
        </details>
        
        <!-- FAQ Item 3 -->
        <details class="group bg-primary-50 rounded-xl">
          <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
            <span class="font-medium text-base-900">Do you follow a specific curriculum?</span>
            <span class="text-primary-600 group-open:rotate-45 transition-transform text-2xl">+</span>
          </summary>
          <div class="px-6 pb-6 text-base-600">
            Yes! I prepare students for ABRSM examinations, but always with joy as the priority. 
            Exams are optional milestones, not the main goal.
          </div>
        </details>
        
        <!-- FAQ Item 4 -->
        <details class="group bg-primary-50 rounded-xl">
          <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
            <span class="font-medium text-base-900">What if my child has never touched a piano?</span>
            <span class="text-primary-600 group-open:rotate-45 transition-transform text-2xl">+</span>
          </summary>
          <div class="px-6 pb-6 text-base-600">
            Perfect! Complete beginners are my specialty. We start with games, songs, and exploration 
            before formal notation. Your child will fall in love with music first.
          </div>
        </details>
        
        <!-- FAQ Item 5 -->
        <details class="group bg-primary-50 rounded-xl">
          <summary class="flex items-center justify-between p-6 cursor-pointer list-none">
            <span class="font-medium text-base-900">Where are lessons held?</span>
            <span class="text-primary-600 group-open:rotate-45 transition-transform text-2xl">+</span>
          </summary>
          <div class="px-6 pb-6 text-base-600">
            Lessons are held at my home studio, providing a comfortable and focused learning 
            environment. I'm conveniently located and happy to discuss if the location works for your family.
          </div>
        </details>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="py-16 md:py-24 px-6 md:px-12">
    <div class="max-w-2xl mx-auto text-center">
      <p class="text-primary-600 font-medium mb-2">üåø Book a Consultation</p>
      <h2 class="text-3xl md:text-4xl font-serif font-semibold text-base-900 mb-4">
        Start Learning Today
      </h2>
      <p class="text-base-600 text-lg mb-8">
        Schedule a consultation with Patricia to align your learning goals and kick start your learning journey!
      </p>
      
      <div class="bg-white rounded-2xl p-8 border border-base-200">
        <form class="space-y-6">
          <!-- Name -->
          <div>
            <label for="name" class="block text-sm font-medium text-base-700 mb-2 text-left">Name</label>
            <input 
              type="text" 
              id="name" 
              name="name"
              required
              class="w-full px-4 py-3 rounded-xl border border-base-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-100 outline-none transition-all"
              placeholder="Your name"
            />
          </div>
          
          <!-- Phone Number -->
          <div>
            <label for="phone" class="block text-sm font-medium text-base-700 mb-2 text-left">Phone Number</label>
            <input 
              type="tel" 
              id="phone" 
              name="phone"
              required
              class="w-full px-4 py-3 rounded-xl border border-base-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-100 outline-none transition-all"
              placeholder="+65 9123 4567"
            />
          </div>
          
          <!-- Consultation Date Calendar -->
          <div>
            <label class="block text-sm font-medium text-base-700 mb-2 text-left">Select Consultation Date</label>
            <div id="calendar" class="bg-primary-50 rounded-xl p-4">
              <!-- Calendar Header -->
              <div class="flex items-center justify-between mb-4">
                <button type="button" id="prev-month" class="p-2 hover:bg-primary-100 rounded-lg transition-colors">
                  <svg class="w-5 h-5 text-base-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                  </svg>
                </button>
                <span id="calendar-month" class="font-medium text-base-800"></span>
                <button type="button" id="next-month" class="p-2 hover:bg-primary-100 rounded-lg transition-colors">
                  <svg class="w-5 h-5 text-base-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </button>
              </div>
              <!-- Day Headers -->
              <div class="grid grid-cols-7 gap-1 mb-2">
                <div class="text-center text-xs font-medium text-base-500 py-2">Sun</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Mon</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Tue</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Wed</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Thu</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Fri</div>
                <div class="text-center text-xs font-medium text-base-500 py-2">Sat</div>
              </div>
              <!-- Calendar Days -->
              <div id="calendar-days" class="grid grid-cols-7 gap-1">
                <!-- Days will be populated by JavaScript -->
              </div>
              <!-- Selected Date Display -->
              <div id="selected-date-display" class="mt-4 text-sm text-primary-700 font-medium hidden">
                Selected: <span id="selected-date-text"></span>
              </div>
            </div>
            <input type="hidden" id="consultation-date" name="consultation-date" />
          </div>
          
          <!-- Message (Optional) -->
          <div>
            <label for="message" class="block text-sm font-medium text-base-700 mb-2 text-left">Message (Optional)</label>
            <textarea 
              id="message" 
              name="message"
              rows="3"
              class="w-full px-4 py-3 rounded-xl border border-base-200 focus:border-primary-400 focus:ring-2 focus:ring-primary-100 outline-none transition-all resize-none"
              placeholder="Tell us about your learning goals or any questions you have..."
            ></textarea>
          </div>
          
          <button 
            type="submit"
            class="w-full py-4 bg-primary-600 text-white font-medium rounded-xl hover:bg-primary-700 transition-colors"
          >
            Book Consultation üå±
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-8 px-6 md:px-12 border-t border-base-200">
    <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="flex items-center gap-2">
        <img 
          src="/music-with-pat/Music%20With%20Pat%20Logo%20(1).png" 
          alt="Music with Pat"
          class="h-8 w-auto"
        />
        <span class="text-base-500 text-sm">¬© 2024</span>
      </div>
      <div class="flex items-center gap-6">
        <a href="#about" class="text-base-500 hover:text-primary-600 text-sm">About</a>
        <a href="#philosophy" class="text-base-500 hover:text-primary-600 text-sm">Philosophy</a>
        <a href="#faq" class="text-base-500 hover:text-primary-600 text-sm">FAQ</a>
        <a href="#contact" class="text-base-500 hover:text-primary-600 text-sm">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Mobile Menu
    const menuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    menuBtn?.addEventListener('click', () => {
      mobileMenu?.classList.toggle('hidden');
    });
    
    mobileMenu?.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu?.classList.add('hidden');
      });
    });
    
    // Slideshow
    const slides = document.querySelectorAll('#slideshow .slide');
    const dots = document.querySelectorAll('#slideshow-dots .dot');
    let currentSlide = 0;
    
    function showSlide(index: number) {
      slides.forEach((slide, i) => {
        (slide as HTMLElement).style.opacity = i === index ? '1' : '0';
      });
      dots.forEach((dot, i) => {
        dot.classList.toggle('bg-primary-600', i === index);
        dot.classList.toggle('bg-primary-200', i !== index);
      });
    }
    
    // Auto-advance slideshow (if more than 1 slide)
    if (slides.length > 1) {
      setInterval(() => {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }, 4000);
    }
    
    // Click dots to navigate
    dots.forEach((dot, i) => {
      dot.addEventListener('click', () => {
        currentSlide = i;
        showSlide(currentSlide);
      });
    });
    
    // Calendar
    let currentDate = new Date();
    let selectedDate: Date | null = null;
    
    const calendarDays = document.getElementById('calendar-days');
    const calendarMonth = document.getElementById('calendar-month');
    const prevMonthBtn = document.getElementById('prev-month');
    const nextMonthBtn = document.getElementById('next-month');
    const consultationDateInput = document.getElementById('consultation-date') as HTMLInputElement;
    const selectedDateDisplay = document.getElementById('selected-date-display');
    const selectedDateText = document.getElementById('selected-date-text');
    
    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
                        'July', 'August', 'September', 'October', 'November', 'December'];
    
    function renderCalendar() {
      if (!calendarDays || !calendarMonth) return;
      
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      
      calendarMonth.textContent = `${monthNames[month]} ${year}`;
      
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      let html = '';
      
      // Empty cells for days before the first day of the month
      for (let i = 0; i < firstDay; i++) {
        html += '<div></div>';
      }
      
      // Days of the month
      for (let day = 1; day <= daysInMonth; day++) {
        const date = new Date(year, month, day);
        const isPast = date < today;
        const isSelected = selectedDate && date.getTime() === selectedDate.getTime();
        const isToday = date.getTime() === today.getTime();
        
        let classes = 'py-2 text-center text-sm rounded-lg transition-colors cursor-pointer ';
        
        if (isPast) {
          classes += 'text-base-300 cursor-not-allowed';
        } else if (isSelected) {
          classes += 'bg-primary-600 text-white font-medium';
        } else if (isToday) {
          classes += 'bg-primary-100 text-primary-700 hover:bg-primary-200';
        } else {
          classes += 'text-base-700 hover:bg-primary-100';
        }
        
        html += `<button type="button" class="${classes}" data-date="${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}" ${isPast ? 'disabled' : ''}>${day}</button>`;
      }
      
      calendarDays.innerHTML = html;
      
      // Add click handlers to date buttons
      calendarDays.querySelectorAll('button:not([disabled])').forEach(btn => {
        btn.addEventListener('click', () => {
          const dateStr = btn.getAttribute('data-date');
          if (dateStr) {
            selectedDate = new Date(dateStr + 'T00:00:00');
            consultationDateInput.value = dateStr;
            if (selectedDateDisplay && selectedDateText) {
              selectedDateDisplay.classList.remove('hidden');
              selectedDateText.textContent = selectedDate.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
              });
            }
            renderCalendar();
          }
        });
      });
    }
    
    prevMonthBtn?.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar();
    });
    
    nextMonthBtn?.addEventListener('click', () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar();
    });
    
    renderCalendar();
  </script>
</BaseLayout>
